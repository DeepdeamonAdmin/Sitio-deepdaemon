{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alan\\\\Desktop\\\\SitioDeepDaemon\\\\Sitio-deepdaemon\\\\src\\\\componentes\\\\Admin\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport validator from 'validator';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Login.css';\nimport { useForm } from '../../hooks/useForm';\nimport { startLoginEmailPassword } from '../../actions/auth';\nimport { removeError, setError } from '../../actions/ui';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = ({\n  history\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    msgError\n  } = useSelector(state => state.ui);\n  const {\n    loading\n  } = useSelector(state => state.ui);\n  const [formValues, handleInputChange] = useForm({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = formValues;\n\n  const handleLogin = e => {\n    const lastPath = localStorage.getItem('lastPath') || '/admin';\n    e.preventDefault();\n\n    if (isFormValid()) {\n      dispatch(startLoginEmailPassword(email, password));\n      history.replace(lastPath);\n    }\n  };\n\n  const isFormValid = () => {\n    if (!validator.isEmail(email)) {\n      dispatch(setError('Email is not valid'));\n      return false;\n    } else if (password.length < 5) {\n      dispatch(setError('Password should be at least 6 characters and match each other'));\n      return false;\n    }\n\n    dispatch(removeError());\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-title\",\n        children: [msgError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth__alert-error\",\n          children: msgError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"DeepDaemon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"login-field\",\n              placeholder: \"Email\",\n              name: \"email\",\n              autoComplete: \"off\",\n              value: email,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"login-field\",\n              placeholder: \"Password\",\n              name: \"password\",\n              value: password,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn2 btn-primary btn-large btn-block\",\n            type: \"submit\",\n            disabled: loading,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"zg/lhHJOBMvDwFLrc46XCQKbjf0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useForm];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Alan/Desktop/SitioDeepDaemon/Sitio-deepdaemon/src/componentes/Admin/Login.js"],"names":["React","useDispatch","useSelector","validator","useForm","startLoginEmailPassword","removeError","setError","Login","history","dispatch","msgError","state","ui","loading","formValues","handleInputChange","email","password","handleLogin","e","lastPath","localStorage","getItem","preventDefault","isFormValid","replace","isEmail","length"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport validator from 'validator';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Login.css'\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { startLoginEmailPassword } from '../../actions/auth';\r\nimport { removeError, setError } from '../../actions/ui';\r\n\r\n\r\n\r\nexport const Login = ({ history }) => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { msgError } = useSelector( state => state.ui );\r\n\tconst { loading } = useSelector( state => state.ui );\r\n\r\n\t\r\n\t\r\n\tconst [ formValues, handleInputChange ] = useForm({\r\n\t\temail: '',\r\n\t\tpassword: ''\r\n\t});\r\n\r\n\tconst { email, password } = formValues;\r\n\r\n\tconst handleLogin = (e) => {\r\n\t\t\r\n\t\t\r\n\t\tconst lastPath = localStorage.getItem('lastPath') || '/admin';\r\n\t\te.preventDefault();\r\n\t\tif( isFormValid() ){\r\n\t\t\tdispatch( startLoginEmailPassword(email, password) );\r\n\t\t\thistory.replace(lastPath)\t\r\n\t\t}\r\n\t}\r\n\tconst isFormValid = () => {\r\n        \r\n        if ( !validator.isEmail( email ) ) {\r\n            dispatch( setError('Email is not valid') )\r\n            return false;\r\n        } else if ( password.length < 5 ) {\r\n            dispatch( setError('Password should be at least 6 characters and match each other') )\r\n            return false\r\n        }\r\n        \r\n        dispatch( removeError() );\r\n       return true;\r\n    }\r\n\t\r\n    return (\r\n        <div className=\"login\">\r\n\t\t<div className=\"login-screen\">\r\n\t\t\t<div className=\"app-title\">\r\n\t\t\t\t{\r\n                    msgError &&\r\n                    (\r\n                        <div className=\"auth__alert-error\">\r\n                            { msgError }\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n\t\t\t\t<h1>DeepDaemon</h1>\r\n\t\t\t\t<hr/>\r\n\t\t\t</div>\r\n\t\t\t<form onSubmit={ handleLogin }>\r\n\t\t\t<div className=\"login-form\">\r\n\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"login-field\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tvalue={ email }\r\n\t\t\t\t\t\tonChange={ handleInputChange }\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"control-group\">\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tclassName=\"login-field\"  \r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tname =\"password\"\r\n\t\t\t\t\t\tvalue={ password }\t\r\n\t\t\t\t\t\tonChange={ handleInputChange }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn2 btn-primary btn-large btn-block\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tdisabled= { loading } \r\n\t\t\t\t\t\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}